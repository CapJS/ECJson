/*! ECJson - v1.0.7 - 2014-11-06
* https://github.com/CapJS/ECJson/
* Copyright (c) 2014 Jonathan Delgado Zamorano; Licensed MIT */
+function(){"use strict";var ecjson,$;ecjson=function(options){options||(options={}),this.url=options.url||ecjson.url,this.method=options.method||ecjson.method;var memory={data:{},deals:[]};this.on=function(a,b){return memory.deals.push({deal:a,handler:b}),this},this.call=function(data,handler){var preData=memory.data;for(var key in data)preData[key]=data[key];return data=preData,$.ajax({url:this.url,dataType:"json",type:this.method.toUpperCase(),data:data,success:function(data){var countHandlerAcives=0;for(var deal in memory.deals){deal=memory.deals[deal];var statusToLoad=!1,conditions=deal.deal;"string"==typeof conditions&&(conditions=[conditions]);for(var condition in conditions){condition=conditions[condition];try{eval("(data."+condition+" !== undefined)")&&(statusToLoad=!0)}catch(e){}}statusToLoad&&(deal.handler(data),countHandlerAcives++)}void 0!==handler&&handler({actives:countHandlerAcives})}}),this}},ecjson.url="",ecjson.method="get",ecjson.version="1.0.7",window.ecjson=ecjson,"function"==typeof define&&define.amd?define("ecjson",[],function(){return"function"==typeof jQuery&&jQuery.fn.jquery&&($=jQuery),ecjson}):"function"==typeof window.jQuery&&window.jQuery.fn.jquery&&($=window.jQuery)}();